<div class="task-dialog">
  <h2 class="task-dialog__title">
    {{ isEditMode ? 'Edit Task' : 'New Task' }}
  </h2>

  <div class="task-dialog__body">
    <form [formGroup]="form" class="task-dialog__form">
      <mat-form-field appearance="outline" class="task-dialog__field">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" maxlength="100" />
        @if (form.get('title')?.hasError('required')) {
        <mat-error>Title is required.</mat-error>
        }

        <mat-hint align="end"> {{ form.get('title')?.value?.length ?? 0 }}/100 </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline" class="task-dialog__field">
        <mat-label>Description</mat-label>
        <textarea matInput rows="3" formControlName="description" maxlength="150"></textarea>
        <mat-hint align="end"> {{ form.get('description')?.value?.length ?? 0 }}/150 </mat-hint>
      </mat-form-field>
    </form>
  </div>

  <div class="task-dialog__actions">
    <button mat-button type="button" (click)="cancel()">Cancel</button>
    <button mat-raised-button color="primary" type="button" (click)="save()">Save</button>
  </div>
</div>
